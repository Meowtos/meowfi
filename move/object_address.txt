CONTRACT_OBJECT_ADDR=0xe9142d6a078718688cb6804e3379157f8a19378df1cc97d8de10df5ed54c5869

PUBLISHER_PROFILE=default
PUBLISHER_ADDR=0x$(aptos config show-profiles --profile=$PUBLISHER_PROFILE | grep 'account' | sed -n 's/.*"account": \"\(.*\)\".*/\1/p')

aptos move upgrade-object-package \
    --object-address $CONTRACT_OBJECT_ADDR \
    --named-addresses nft_lending=$CONTRACT_OBJECT_ADDR\
    --profile $PUBLISHER_PROFILE \
    --assume-yes --skip-fetch-latest-git-deps 

aptos move create-object-and-publish-package \
    --address-name nft_lending \
    --named-addresses nft_lending=$PUBLISHER_ADDR\
    --profile $PUBLISHER_PROFILE \
    --assume-yes --skip-fetch-latest-git-deps 

aptos move compile --dev --skip-fetch-latest-git-deps
aptos move test --skip-fetch-latest-git-deps
aptos move publish --named-addresses my_addr=default --skip-fetch-latest-git-deps --included-artifacts none

